import React,
{
    useEffect
}

from 'react';
import {
    useDispatch,
    useSelector
}

from 'react-redux';
import {
    fetchMembers,
    addMember,
    updateMember,
    deleteMember
}

from './redux/actions';
import FamilyMember from './components/FamilyMember'; // Реалізуйте компонент для відображення члена родини
import {
    Button
}

from '@mui/material';
const App: React.FC=()=> {
    const dispatch=useDispatch();
    const members=useSelector((state: any)=> state.family.members);
    useEffect(()=> {
        dispatch(fetchMembers());
    }
    , [dispatch]);
    const handleCreateMember=(memberData: any)=> {
        dispatch(addMember(memberData));
    }
    ;
    const handleUpdateMember=(memberData: any)=> {
        dispatch(updateMember(memberData));
    }
    ;
    const handleDeleteMember=(memberId: string)=> {
        dispatch(deleteMember(memberId));
    }
    ;
    return ( <div> <h1>Family Tree</h1> <Button onClick= {
        handleCreateMember
    }
    >Create Member</Button> {
        members.map(member=> ( <FamilyMember key= {
            member._id
        }
        member= {
            member
        }
        onUpdate= {
            handleUpdateMember
        }
        onDelete= {
            handleDeleteMember
        }
        />))
    }
    </div>);
}

;
export default App;